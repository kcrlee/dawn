<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Product Page Example - Dawn UI Components</title>

  <!-- Base styles -->
  <link rel="stylesheet" href="../styles/base.css">

  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
      background: #f9f9f9;
    }

    .product-page {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 3rem;
      background: white;
      padding: 2rem;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .product-images {
      background: #f5f5f5;
      border-radius: 8px;
      aspect-ratio: 1;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .product-info h1 {
      margin: 0 0 0.5rem;
      font-size: 2rem;
    }

    .product-price {
      font-size: 1.5rem;
      font-weight: 600;
      margin: 1rem 0;
      color: #1a1a1a;
    }

    .product-description {
      color: #666;
      line-height: 1.6;
      margin: 1.5rem 0;
    }

    .product-actions {
      margin-top: 2rem;
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }

    /* Component Styles */
    .product-form__submit {
      background: #000;
      color: #fff;
      border: none;
      padding: 1rem 2rem;
      border-radius: 4px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      transition: all 0.2s;
    }

    .product-form__submit:hover:not([disabled]) {
      background: #333;
      transform: translateY(-1px);
    }

    .product-form__submit.is-loading {
      opacity: 0.7;
      cursor: wait;
    }

    .product-form__field {
      margin-bottom: 1rem;
    }

    .product-form__field label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
    }

    .quantity-input {
      display: inline-flex;
      border: 1px solid #ddd;
      border-radius: 4px;
      overflow: hidden;
    }

    .quantity-input__button {
      background: #f5f5f5;
      border: none;
      padding: 0.5rem 1rem;
      cursor: pointer;
      transition: background 0.2s;
    }

    .quantity-input__button:hover:not([disabled]) {
      background: #e0e0e0;
    }

    .quantity-input__button:disabled {
      opacity: 0.4;
      cursor: not-allowed;
    }

    .quantity-input__input {
      border: none;
      border-left: 1px solid #ddd;
      border-right: 1px solid #ddd;
      width: 60px;
      text-align: center;
      font-size: 1rem;
    }

    .share-button__button {
      background: #fff;
      border: 1px solid #ddd;
      padding: 1rem 2rem;
      border-radius: 4px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 1rem;
      transition: all 0.2s;
    }

    .share-button__button:hover {
      border-color: #000;
      transform: translateY(-1px);
    }

    .share-button__fallback {
      position: absolute;
      top: 100%;
      left: 0;
      margin-top: 0.5rem;
      background: white;
      border: 1px solid #ddd;
      border-radius: 4px;
      padding: 1rem;
      min-width: 300px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    .share-button__details {
      position: relative;
    }

    .field__input {
      width: 100%;
      padding: 0.5rem;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 0.9rem;
    }

    .field__label {
      display: block;
      margin-bottom: 0.25rem;
      font-size: 0.85rem;
      color: #666;
    }

    .share-button__message {
      color: green;
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
    }

    .share-button__copy,
    .share-button__close {
      background: #f5f5f5;
      border: 1px solid #ddd;
      padding: 0.5rem;
      border-radius: 4px;
      cursor: pointer;
      margin-top: 0.5rem;
      margin-right: 0.5rem;
    }

    .hidden {
      display: none !important;
    }

    .visually-hidden {
      position: absolute;
      width: 1px;
      height: 1px;
      margin: -1px;
      padding: 0;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      border: 0;
    }

    .success-notification {
      position: fixed;
      top: 2rem;
      right: 2rem;
      background: #4caf50;
      color: white;
      padding: 1rem 2rem;
      border-radius: 4px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      animation: slideIn 0.3s ease;
    }

    @keyframes slideIn {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    .spinner {
      animation: spin 0.8s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <h1 style="text-align: center; margin-bottom: 2rem;">Product Page Example</h1>

  <div class="product-page">
    <!-- Product Images -->
    <div class="product-images">
      <p style="color: #999;">Product Image</p>
    </div>

    <!-- Product Info -->
    <div class="product-info">
      <h1>Premium Coffee Beans</h1>
      <div class="product-price">$24.99</div>

      <div class="product-description">
        <p>
          Handpicked from the finest farms in Colombia, these premium coffee beans
          deliver a rich, smooth flavor with notes of chocolate and caramel.
          Perfect for your morning brew or afternoon pick-me-up.
        </p>
        <ul>
          <li>Origin: Colombia</li>
          <li>Roast Level: Medium</li>
          <li>Weight: 12 oz</li>
          <li>Organic & Fair Trade</li>
        </ul>
      </div>

      <!-- Product Form with Quantity -->
      <product-form
        product-id="123456"
        variant-id="789012"
        button-text="Add to Cart"
        button-loading-text="Adding..."
        show-quantity="true"
        ajax="true">
      </product-form>

      <div class="product-actions">
        <!-- Share Button -->
        <share-button
          url="https://example.com/products/premium-coffee"
          title="Check out these amazing coffee beans!"
          label="Share this product">
        </share-button>
      </div>
    </div>
  </div>

  <!-- Load Components -->
  <script type="module" src="../components/quantity-input.js"></script>
  <script type="module" src="../components/product-form.js"></script>
  <script type="module" src="../components/share-button.js"></script>

  <!-- Demo: Handle Events -->
  <script>
    // Show notification on successful add to cart
    document.querySelector('product-form').addEventListener('success', (e) => {
      console.log('Product added:', e.detail);

      // Show success notification
      const notification = document.createElement('div');
      notification.className = 'success-notification';
      notification.textContent = `Added ${e.detail.quantity}x to cart!`;
      document.body.appendChild(notification);

      // Remove after 3 seconds
      setTimeout(() => {
        notification.remove();
      }, 3000);
    });

    // Handle errors
    document.querySelector('product-form').addEventListener('error', (e) => {
      console.error('Error adding to cart:', e.detail);
      alert('Sorry, there was an error adding this item to your cart.');
    });

    // Track share events
    document.querySelector('share-button').addEventListener('share', (e) => {
      console.log('Shared via native API:', e.detail);
    });

    document.querySelector('share-button').addEventListener('copy', (e) => {
      console.log('URL copied to clipboard:', e.detail.url);
    });
  </script>
</body>
</html>
